#!/data/data/com.termux/files/usr/bin/sh
error() {
	printf "\033[0;%sm%s\033[0m\033[0;%sm%s\033[0m\n" "${WHITE}" "[TEL]: " "${RED}" "${1}"
}
if [ "$1" == '--reset' ] ; then
	echo "removing installed flags"
	rm -f ~/.tel/.installed
	rm -rf ~/.oh-my-zsh

elif [ "$1" == '-h' ] ; then
echo 'usage: tel-setup [OPTION]
	--reset     = reset before install (you may lose data)'
	exit 0
fi

if [ ! -f "~/.tel/.installed" ]; then
	pkg install wget unzip coreutils -y 2>&1
fi

cd ~/../usr/
wget https://github.com/t-e-l/tel/raw/master/bootstrap/changes.zip 2>&1
unzip -o changes.zip 2>&1
rm -f changes.zip
chmod +x ~/../usr/bin/tel-setup
chmod +x ~/../usr/bin/tel-applist
bash tel/setup.sh
